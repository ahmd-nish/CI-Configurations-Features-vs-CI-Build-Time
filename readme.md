# CI Workflow Analysis on GitHub Repositories

This repository contains a set of Jupyter notebooks used to analyze GitHub Actions configurations across 11,800 JavaScript repositories. The analysis investigates how CI workflow features (e.g., runner image, caching) influence build duration using statistical methods, machine learning, and clustering techniques.

## 📁 Repository Structure

```bash
├── Step_2_and_3.ipynb         # Initial data extraction from GitHub API
├── yaml_extraction.ipynb      # Workflow YAML parsing for features
├── step-4.ipynb               # Feature engineering and cleaning
├── Final_analysis.ipynb       # Statistical analysis, ML, and visualization
├── data/                      # (Optional) Store CSVs or intermediate outputs
├── figures/                   # Plots and diagrams generated by notebooks
└── README.md                  # This file
```

---

## 🧑‍💻 Getting Started

### 1. Clone the Repository

```bash
git clone https://github.com/your-username/ci-workflow-analysis.git
cd ci-workflow-analysis
```

### 2. Create & Activate a Virtual Environment (Recommended)

```bash
python -m venv venv
source venv/bin/activate       # On Windows: venv\Scripts\activate
```

---

## 📦 Install Required Packages

Make sure you have `pip` updated:

```bash
pip install --upgrade pip
```

Then install the required libraries:

```bash
pip install -r requirements.txt
```

If `requirements.txt` is missing, install manually:

```bash
pip install pandas numpy matplotlib seaborn requests statsmodels xgboost shap scikit-learn
```

---

## 🔑 Setting Up GitHub Tokens

This project requires GitHub API access to collect data, and it uses **GitHub Personal Access Tokens (PATs)**.

### 🔐 Step 1: Generate a Token

Go to [https://github.com/settings/tokens](https://github.com/settings/tokens) and:

* Click **"Generate new token (classic)"**
* Scope: `repo` and `read:org` are sufficient
* Copy the token — you won’t see it again

### 🔧 Step 2: Add Your Tokens

There are **two locations** where tokens are used:

#### Option A – Direct Replacement

Inside the code, you will see:

```python
TOKENS = [
    "ghp_**********",  # Replace with your actual tokens
]
```

Replace the asterisks with your generated tokens.

#### Option B – Use Environment Variables (Recommended)

Instead of hardcoding, set your token in a `.env` file or your shell environment:

```bash
export GITHUB_TOKEN_1=ghp_YourTokenHere
```

Then modify the notebook to use:

```python
import os

TOKENS = [
    os.getenv("GITHUB_TOKEN_1"),
    os.getenv("GITHUB_TOKEN_2"),
]
```

> ⚠️ Do not commit your personal tokens to GitHub.

---

## 📊 Running the Notebooks

Use Jupyter to open and run the notebooks sequentially:

```bash
jupyter notebook
```

Run the notebooks in this order:

1. `Step_2_and_3.ipynb` – Initial metadata and API scraping
2. `yaml_extraction.ipynb` – Parsing YAML workflow files
3. `step-4.ipynb` – Feature extraction and dataset enrichment
4. `Final_analysis.ipynb` – Visualization, SHAP, and statistical analysis

---

## 📊 Output

Final figures will be saved to the `figures/` folder. These include:

* CI build duration distributions
* SHAP impact plots
* Cluster groupings from K-Means

---

## 📄 License

MIT License – feel free to reuse and adapt this work with attribution.

---

## 🤛‍♂️ Support

If you face any issues running the notebooks or configuring GitHub tokens, feel free to open an issue or contact the maintainer.